<Window x:Class="PSDGitFinal.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PSDGitFinal"
        mc:Ignorable="d"
        x:Name="AppWindow"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Title="MainWindow" 
        MaxWidth="900" 
        MaxHeight="600">
    <Window.Resources>




        <!--Control colors.-->
        <Color x:Key="WindowColor">#FFE8EDF9</Color>
        <Color x:Key="ContentAreaColorLight">#FFC5CBF9</Color>
        <Color x:Key="ContentAreaColorDark">#FF7381F9</Color>

        <Color x:Key="DisabledControlLightColor">#FFE8EDF9</Color>
        <Color x:Key="DisabledControlDarkColor">#FFC5CBF9</Color>
        <Color x:Key="DisabledForegroundColor">#FF888888</Color>

        <Color x:Key="SelectedBackgroundColor">#FFC5CBF9</Color>
        <Color x:Key="SelectedUnfocusedColor">#FFDDDDDD</Color>

        <Color x:Key="ControlLightColor">White</Color>
        <Color x:Key="ControlMediumColor">#FF7381F9</Color>
        <Color x:Key="ControlDarkColor">#FF211AA9</Color>

        <Color x:Key="ControlMouseOverColor">#FF3843C4</Color>
        <Color x:Key="ControlPressedColor">#FF211AA9</Color>


        <Color x:Key="GlyphColor">#FF444444</Color>
        <Color x:Key="GlyphMouseOver">sc#1, 0.004391443, 0.002428215, 0.242281124</Color>

        <!--Border colors-->
        <Color x:Key="BorderLightColor">#FFCCCCCC</Color>
        <Color x:Key="BorderMediumColor">#FF888888</Color>
        <Color x:Key="BorderDarkColor">#FF444444</Color>

        <Color x:Key="PressedBorderLightColor">#FF888888</Color>
        <Color x:Key="PressedBorderDarkColor">#FF444444</Color>

        <Color x:Key="DisabledBorderLightColor">#FFAAAAAA</Color>
        <Color x:Key="DisabledBorderDarkColor">#FF888888</Color>

        <Color x:Key="DefaultBorderBrushDarkColor">Black</Color>

        <!--Control-specific resources.-->
        <Color x:Key="HeaderTopColor">#FFC5CBF9</Color>
        <Color x:Key="DatagridCurrentCellBorderColor">Black</Color>
        <Color x:Key="SliderTrackDarkColor">#FFC5CBF9</Color>

        <Color x:Key="NavButtonFrameColor">#FF3843C4</Color>

        <LinearGradientBrush x:Key="MenuPopupBrush"
                     EndPoint="0.5,1"
                     StartPoint="0.5,0">
            <GradientStop Color="{DynamicResource ControlLightColor}"
                Offset="0" />
            <GradientStop Color="{DynamicResource ControlMediumColor}"
                Offset="0.5" />
            <GradientStop Color="{DynamicResource ControlLightColor}"
                Offset="1" />
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="ProgressBarIndicatorAnimatedFill"
                     StartPoint="0,0"
                     EndPoint="1,0">
            <LinearGradientBrush.GradientStops>
                <GradientStopCollection>
                    <GradientStop Color="#000000FF"
                    Offset="0" />
                    <GradientStop Color="#600000FF"
                    Offset="0.4" />
                    <GradientStop Color="#600000FF"
                    Offset="0.6" />
                    <GradientStop Color="#000000FF"
                    Offset="1" />
                </GradientStopCollection>
            </LinearGradientBrush.GradientStops>
        </LinearGradientBrush>










        <Style x:Key="ScrollBarLineButton"
       TargetType="{x:Type RepeatButton}">
            <Setter Property="SnapsToDevicePixels"
          Value="True" />
            <Setter Property="OverridesDefaultStyle"
          Value="true" />
            <Setter Property="Focusable"
          Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Border x:Name="Border"
                Margin="1"
                CornerRadius="4"
                                Background="Transparent"
                BorderThickness="1">
                            
                           
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver" />
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Arrow"
                                                Storyboard.TargetProperty="(Shape.Fill).
                    (SolidColorBrush.Color)">
                                                <EasingColorKeyFrame KeyTime="0"
                                         Value="{StaticResource DisabledForegroundColor}" />
                                            </ColorAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Path x:Name="Arrow"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Data="{Binding Content, 
            RelativeSource={RelativeSource TemplatedParent}}" >
                                <Path.Fill>
                                    <SolidColorBrush Color="{DynamicResource GlyphColor}"/>
                                </Path.Fill>
                            </Path>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ScrollBarPageButton"
       TargetType="{x:Type RepeatButton}">
            <Setter Property="SnapsToDevicePixels"
          Value="True" />
            <Setter Property="OverridesDefaultStyle"
          Value="true" />
            <Setter Property="IsTabStop"
          Value="false" />
            <Setter Property="Focusable"
          Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Border Background="Transparent" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ScrollBarThumb"
       TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels"
          Value="True" />
            <Setter Property="OverridesDefaultStyle"
          Value="true" />
            <Setter Property="IsTabStop"
          Value="false" />
            <Setter Property="Focusable"
          Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border CornerRadius="2"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="1" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ControlTemplate x:Key="VerticalScrollBar"
                 TargetType="{x:Type ScrollBar}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition MaxHeight="18" />
                    <RowDefinition Height="0.00001*" />
                    <RowDefinition MaxHeight="18" />
                </Grid.RowDefinitions>
                <Border Grid.RowSpan="3"
            CornerRadius="2"
            Background="Transparent" />
                <RepeatButton Grid.Row="0"
                  Style="{StaticResource ScrollBarLineButton}"
                  Height="18"
                  Command="ScrollBar.LineUpCommand"
                  Content="M 0 4 L 8 4 L 4 0 Z" />
                <Track x:Name="PART_Track"
           Grid.Row="1"
           IsDirectionReversed="true">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}"
                      Command="ScrollBar.PageUpCommand" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource ScrollBarThumb}"
               Margin="1,0,1,0" Background="Red">
                           
                        </Thumb>
                    </Track.Thumb>
                    <Track.IncreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}"
                      Command="ScrollBar.PageDownCommand" />
                    </Track.IncreaseRepeatButton>
                </Track>
                <RepeatButton Grid.Row="3"
                  Style="{StaticResource ScrollBarLineButton}"
                  Height="18"
                  Command="ScrollBar.LineDownCommand"
                  Content="M 0 0 L 4 4 L 8 0 Z" />
            </Grid>
        </ControlTemplate>

        <ControlTemplate x:Key="HorizontalScrollBar"
                 TargetType="{x:Type ScrollBar}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition MaxWidth="18" />
                    <ColumnDefinition Width="0.00001*" />
                    <ColumnDefinition MaxWidth="18" />
                </Grid.ColumnDefinitions>
                <Border Grid.ColumnSpan="3"
            CornerRadius="2"
            Background="Transparent" />
                <RepeatButton Grid.Column="0"
                  Style="{StaticResource ScrollBarLineButton}"
                  Width="18"
                  Command="ScrollBar.LineLeftCommand"
                  Content="M 4 0 L 4 8 L 0 4 Z" />
                <Track x:Name="PART_Track"
           Grid.Column="1"
           IsDirectionReversed="False">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}"
                      Command="ScrollBar.PageLeftCommand" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource ScrollBarThumb}"
               Margin="0,1,0,1" Background="Red">

                            
                           
                        </Thumb>
                    </Track.Thumb>
                    <Track.IncreaseRepeatButton>
                        <RepeatButton Style="{StaticResource ScrollBarPageButton}"
                      Command="ScrollBar.PageRightCommand" />
                    </Track.IncreaseRepeatButton>
                </Track>
                <RepeatButton Grid.Column="3"
                  Style="{StaticResource ScrollBarLineButton}"
                  Width="18"
                  Command="ScrollBar.LineRightCommand"
                  Content="M 0 0 L 4 4 L 0 8 Z" />
            </Grid>
        </ControlTemplate>

        <Style x:Key="{x:Type ScrollBar}"
       TargetType="{x:Type ScrollBar}">
            <Setter Property="SnapsToDevicePixels"
          Value="True" />
            <Setter Property="OverridesDefaultStyle"
          Value="true" />
            <Style.Triggers>
                <Trigger Property="Orientation"
             Value="Horizontal">
                    <Setter Property="Width"
              Value="Auto" />
                    <Setter Property="Height"
              Value="18" />
                    <Setter Property="Template"
              Value="{StaticResource HorizontalScrollBar}" />
                </Trigger>
                <Trigger Property="Orientation"
             Value="Vertical">
                    <Setter Property="Width"
              Value="18" />
                    <Setter Property="Height"
              Value="Auto" />
                    <Setter Property="Template"
              Value="{StaticResource VerticalScrollBar}" />
                </Trigger>
            </Style.Triggers>
        </Style>







        <ControlTemplate x:Key="TextBoxBaseControlTemplate" 
                         TargetType="{x:Type TextBoxBase}">
            <Border Background="{TemplateBinding Background}" 
                    x:Name="Bd"
                    BorderBrush="Black"
                    BorderThickness="{TemplateBinding BorderThickness}" 
                    CornerRadius="10">
                <ScrollViewer x:Name="PART_ContentHost"/>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" 
                         Value="False">
                    <Setter Property="Background" 
                            Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" 
                            TargetName="Bd"/>
                    <Setter Property="Foreground" 
                            Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                </Trigger>
                <Trigger Property="Width" 
                         Value="Auto">
                    <Setter Property="MinWidth"
                            Value="100"/>
                </Trigger>
                <Trigger Property="Height" 
                         Value="Auto">
                    <Setter Property="MinHeight" 
                            Value="20"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style TargetType="{x:Type local:MainWindow}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Window}">
                        <!-- Outer border with the dropshadow margin -->
                        <Border Padding="10">

                            <!-- Main window outline -->
                            <Grid >

                                <!-- Opacity mask for corners on grid -->
                                <Border x:Name="Container"
                                        Background="AliceBlue"
                                        CornerRadius="10"
                                        BorderThickness="1"
                                        SnapsToDevicePixels="True" 
                                        UseLayoutRounding="True"/>

                                <!-- Window border and dropshadown -->
                                <Border CornerRadius="10"
                                        Background="#1e1c29"
                                        BorderThickness="0"
                                        >
                                    <Border.Effect>
                                        <DropShadowEffect ShadowDepth="0" 
                                                          Opacity="0.2" />
                                    </Border.Effect>
                                </Border>

                                <!-- The main window content -->
                                <Grid SnapsToDevicePixels="True"
                                      UseLayoutRounding="True">

                                    <!-- Corner clipping -->
                                    <Grid.OpacityMask>
                                        <VisualBrush Visual="{Binding ElementName=Container}" />
                                    </Grid.OpacityMask>

                                    <Grid.RowDefinitions>

                                        <!-- Title Bar -->
                                        <RowDefinition Height="{Binding TitleHeightGridLength, FallbackValue=42}" />
                                        <!-- Drop shadow -->
                                        <RowDefinition Height="Auto" />
                                        <!-- Window Content -->
                                        <RowDefinition Height="*" />

                                    </Grid.RowDefinitions>

                                    <!-- Title Bar -->
                                    <Grid Grid.Row="0" 
                                          Panel.ZIndex="1"
                                          SnapsToDevicePixels="True"
                                      UseLayoutRounding="True">
                                        <Grid.ColumnDefinitions>
                                            <!-- Icon -->
                                            <ColumnDefinition Width="0.25*" />
                                            <!-- Title -->
                                            <ColumnDefinition Width="0.75*" />
                                        </Grid.ColumnDefinitions>
                                        <!-- Icon -->
                                        <StackPanel Grid.Column="0" 
                                                    Orientation="Horizontal">
                                            <Button Style="{StaticResource SystemIconButton}" 
                                                    Command="{Binding MenuCommand}">
                                                <Image Width="30"/>
                                            </Button>
                                            <Viewbox Margin="10 10 0 10">
                                                <TextBlock Foreground="#46435b"
                                                           Text="SAFER" />
                                            </Viewbox>
                                        </StackPanel>
                                        <!-- Window Buttons -->
                                        <Grid Grid.Column="1">
                                            <StackPanel Orientation="Horizontal">
                                                <Button WindowChrome.IsHitTestVisibleInChrome="True"
                                                        Click="Open_dialog"  
                                                        Grid.Column="1"
                                                        VerticalAlignment="Center" 
                                                        HorizontalAlignment="Left" 
                                                        Template="{StaticResource AnimatedProjectButton}"
                                                        Width="100" 
                                                        Height="27">
                                                    <StackPanel HorizontalAlignment="Center" 
                                                                Orientation="Horizontal">
                                                        <Label VerticalAlignment="Center" Foreground="White">Add Project</Label>
                                                    </StackPanel>
                                                </Button>

                                                <Button Click="DB_Upload" 
                                                        WindowChrome.IsHitTestVisibleInChrome="True" 
                                                        Margin="5 0 5 0" 
                                                        Grid.Column="1" 
                                                        VerticalAlignment="Center" 
                                                        HorizontalAlignment="Left" 
                                                        Template="{StaticResource AnimatedProjectButton}"
                                                        Width="100" 
                                                        Height="27">
                                                    <StackPanel HorizontalAlignment="Center" 
                                                                Orientation="Horizontal">
                                                        <Label VerticalAlignment="Center" Foreground="White">Upload Project</Label>
                                                    </StackPanel>
                                                </Button>
                                                <Button Click="Db_files" 
                                                        WindowChrome.IsHitTestVisibleInChrome="True" 
                                                        Grid.Column="1" 
                                                        VerticalAlignment="Center" 
                                                        HorizontalAlignment="Left" 
                                                        Template="{StaticResource AnimatedProjectButton}"
                                                        Width="100" 
                                                        Height="27">
                                                    <StackPanel HorizontalAlignment="Center" 
                                                                Orientation="Horizontal">
                                                        <Label VerticalAlignment="Center" Foreground="White">DropBox Files</Label>
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel >
                                            <StackPanel HorizontalAlignment="Right" 
                                                        Orientation="Horizontal">
                                                <StackPanel Margin="0 0 20 0" 
                                                            Orientation="Horizontal" 
                                                            VerticalAlignment="Center">
                                                    <TextBlock HorizontalAlignment="Center" 
                                                               Margin="0 0 20 0">
                                                    <Hyperlink Foreground="#46435b">
                                                        <TextBlock Text="TEST LINK"/>
                                                    </Hyperlink>
                                                </TextBlock>
                                                    <!--
                                                    <Button Width="30">
                                                        <Image />
                                                    </Button>
                                                    -->
                                                </StackPanel>
                                                <StackPanel  Orientation="Horizontal">
                                                    <Button Command="{Binding MinimizeCommand}" 
                                                            Style="{StaticResource WindowControlButton}" 
                                                            Content="_" />
                                                    <Button Click="Button_Click" 
                                                            Command="{Binding CloseCommand}"  
                                                            Style="{StaticResource WindowCloseButton}" 
                                                            Content="X" />
                                                </StackPanel>
                                            </StackPanel>
                                        </Grid>
                                    </Grid>


                                    <!-- Page Content -->
                                    <Border Background="#1a1823" 
                                            Grid.Row="2" 
                                            Padding="{Binding InnerContentPadding}">
                                        <ContentPresenter Content="{TemplateBinding Content}" />
                                    </Border>
                                </Grid>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <WindowChrome.WindowChrome>
        <WindowChrome 
            ResizeBorderThickness="10"
            CaptionHeight="30"
            GlassFrameThickness="0"
            CornerRadius="0"
            />
    </WindowChrome.WindowChrome>

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0.5,0" 
                                 EndPoint="0.5,1">
                <LinearGradientBrush.GradientStops>
                    <GradientStop Color="#1a1823" 
                                  Offset="0.5"/>
                    <GradientStop Color="#FF260D29" 
                                  Offset="1.0"/>

                </LinearGradientBrush.GradientStops>
                <LinearGradientBrush.Transform>
                    <RotateTransform Angle="-4"/>
                </LinearGradientBrush.Transform>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.80*"/>
            <RowDefinition Height="0.20*"/>
        </Grid.RowDefinitions>
        <Border Background="White" 
                IsEnabled="False" 
                Grid.RowSpan="2" 
                x:Name="LoadingScreen"
                Opacity="1"
                Panel.ZIndex="1"
                Visibility="Collapsed">
            <local:CircularProgressBar/>
            
        </Border>
        <Border IsEnabled="False" 
                Grid.RowSpan="2" 
                x:Name="NoContentScreen" 
                Opacity="1" 
                Panel.ZIndex="1"
                Visibility="Collapsed">
            <Border.Background>
                <LinearGradientBrush StartPoint="0.5,0"  
                                     EndPoint="0.5,1">
                    <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#1a1823" 
                                      Offset="0.3"/>
                        <GradientStop Color="#1a001a" 
                                      Offset="1.0"/>
                    </LinearGradientBrush.GradientStops>
                </LinearGradientBrush>
            </Border.Background>
            <TextBlock HorizontalAlignment="Center" 
                       VerticalAlignment="Center" 
                       Foreground="White" 
                       FontSize="32">
                No Projects Yet
            </TextBlock>
        </Border>
        <Grid  Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.25*" />
                <ColumnDefinition Width="0.75*" />
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height ="0.17*"/>
                    <RowDefinition Height="0.83*"/>
                </Grid.RowDefinitions>
                <StackPanel Background="Transparent" 
                            Margin="0 10 0 0" 
                            Grid.Row="0">
                    <TextBox Background="#FF373542" 
                             Tag="Search" 
                             CaretBrush="Blue" 
                             Margin="5 0 5 0"  
                             Grid.Row="2" 
                             x:Name="SearchString"
                             TextChanged="SearchString_TextChanged">
                        <TextBox.Template>
                            <ControlTemplate TargetType="{x:Type TextBox}">
                                <Grid Margin="8 0 8 0"
                                      SnapsToDevicePixels="True" 
                                      UseLayoutRounding="True"
                                      Height="25">
                                    <Grid.BitmapEffect>
                                        <DropShadowBitmapEffect x:Name="SearchDropShadow" 
                                                                Opacity="0" 
                                                                Color="#FF28AA9E" 
                                                                Direction="0" 
                                                                ShadowDepth="0"/>
                                    </Grid.BitmapEffect>
                                    <Border Background="{TemplateBinding Background}" 
                                            x:Name="Bd" 
                                            BorderBrush="Black"
                                            BorderThickness="0" 
                                            CornerRadius="5.5"
                                            SnapsToDevicePixels="True"
                                            UseLayoutRounding="True"/>
                                    <ScrollViewer FontSize="12" 
                                                  Margin="3 1 0 0" 
                                                  VerticalAlignment="Center"
                                                  Foreground="Black" 
                                                  x:Name="PART_ContentHost"/>
                                    <Label FontSize="12"
                                           Visibility="Collapsed" 
                                           VerticalAlignment="Center" 
                                           Content="{TemplateBinding Tag}" 
                                           x:Name="Watermark" />
                                </Grid>
                                <ControlTemplate.Triggers>

                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="Text" 
                                                       Value=""/>
                                        </MultiTrigger.Conditions>
                                        <Setter Property="Visibility" 
                                                TargetName="Watermark" 
                                                Value="Visible"/>
                                    </MultiTrigger>

                                    <Trigger Property="IsMouseOver" 
                                             Value="True">
                                        <Trigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard FillBehavior="HoldEnd">
                                                    <DoubleAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                     Storyboard.TargetProperty="Opacity" 
                                                                     To="1" 
                                                                     Duration="0:0:0.2"/>
                                                    <ColorAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                    Storyboard.TargetProperty="Color" 
                                                                    To="#FF5BB6CB" 
                                                                    Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.EnterActions>
                                        <Trigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard FillBehavior="Stop">
                                                    <DoubleAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                     Storyboard.TargetProperty="Opacity" 
                                                                     To="0" 
                                                                     Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.ExitActions>
                                    </Trigger>


                                    <Trigger Property="IsFocused" 
                                             Value="True">
                                        <Trigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard FillBehavior="HoldEnd">
                                                    <DoubleAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                     Storyboard.TargetProperty="Opacity" 
                                                                     To="1" 
                                                                     Duration="0:0:0.2"/>
                                                    <ColorAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                    Storyboard.TargetProperty="Color" 
                                                                    To="#FF2727EC" 
                                                                    Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.EnterActions>
                                        <Trigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard FillBehavior="Stop">
                                                    <DoubleAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                     Storyboard.TargetProperty="Opacity" 
                                                                     To="0" 
                                                                     Duration="0:0:0.2"/>
                                                    <ColorAnimation Storyboard.TargetName="SearchDropShadow" 
                                                                    Storyboard.TargetProperty="Color" 
                                                                    To="Green" 
                                                                    Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.ExitActions>
                                    </Trigger>

                                </ControlTemplate.Triggers>

                            </ControlTemplate>
                        </TextBox.Template>
                    </TextBox>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.6*" />
                            <ColumnDefinition Width="0.4*" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" 
                               Foreground="#46435b" 
                               Content="PROJECT NAME"
                               VerticalContentAlignment="Center"
                               HorizontalAlignment="Center"/>
                        <Label Grid.Column="1" 
                               Foreground="#46435b" 
                               Content="DATE" 
                               VerticalContentAlignment="Center" 
                               HorizontalContentAlignment="Center"/>
                    </Grid>

                </StackPanel>
                <Grid Background="Transparent"  
                      Grid.Row="1">

                    <ListBox Visibility="Visible" 
                             Height="Auto" 
                             Background="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Grid}, Path=Background}" 
                             SelectionChanged="Tagging_SelectionChanged" 
                             Foreground="White"  
                             ItemsSource="{Binding UserProjects}"
                             x:Name="Tagging" 
                             BorderThickness="0" >
                        <ListBox.Style>
                            <Style>
                                <Style.Triggers>
                                    <Trigger Property="ListBox.IsMouseOver" Value="True">
                                        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
                                    </Trigger>
                                    <Trigger Property="ListBox.IsMouseOver" Value="False">
                                        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ListBox.Style>
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListBoxItem">
                                            <Border x:Name="ProjectItem" 
                                                    BorderBrush="Transparent"
                                                    BorderThickness="1">
                                                <Grid  Height="35" >
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="0.6*" />
                                                        <ColumnDefinition Width="0.3*" />
                                                        <ColumnDefinition Width="0.1*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid x:Name="gr2" HorizontalAlignment="Left" Grid.Column="0">
                                                        <Border Margin="5 0 0 0" 
                                                                x:Name="SelectedIndicator"
                                                                HorizontalAlignment="Left"
                                                                Background="Transparent"
                                                                Width="4.5"/>
                                                        <TextBlock HorizontalAlignment="Left" 
                                                                   VerticalAlignment="Center"
                                                                   Margin="25 0 0 0"
                                                                   Foreground="White" 
                                                                   Text="{Binding name}"/>
                                                    </Grid>

                                                </Grid>
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                        <GradientStop x:Name="GradientStop1"
                                                                      Color="Transparent" 
                                                                      Offset="0" />
                                                        <GradientStop x:Name="GradientStop2" 
                                                                      Color="Transparent"
                                                                      Offset="1" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="ListBoxItem.IsMouseOver" 
                                                     Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ColorAnimation Storyboard.TargetName="GradientStop1"
                                                                            Storyboard.TargetProperty="Color"
                                                                            To="#FF55254C" 
                                                                            Duration="0:0:0.7"
                                                                />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ColorAnimation Storyboard.TargetName="GradientStop1"
                                                                            Storyboard.TargetProperty="Color"
                                                                            To="Transparent" 
                                                                            Duration="0:0:0.5"
                                                                            />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                                <Trigger Property="ListBoxItem.IsSelected" 
                                                         Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ColorAnimation Storyboard.TargetName="SelectedIndicator"
                                                                                Storyboard.TargetProperty="Background.Color" 
                                                                                Duration="0:0:0.4" 
                                                                                To="#FF0D1E8B"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ColorAnimation Storyboard.TargetName="SelectedIndicator"
                                                                                Storyboard.TargetProperty="Background.Color" 
                                                                                Duration="0:0:0.4" 
                                                                                To="Transparent"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListBox.ItemContainerStyle>
                    </ListBox>
                </Grid>
            </Grid>
            <DockPanel SnapsToDevicePixels="True" x:Name="ProjectDetails"
                        Margin="20 20 20 0" 
                        Grid.Column="1">
                <Grid Height="65" 
                      VerticalAlignment="Top"
                      DockPanel.Dock="Top">
                    <Border  
                            x:Name="ProjectMask" 
                            CornerRadius="11">

                        <Border.Style>
                            <Style>
                                <Setter Property="Border.Background">
                                    <Setter.Value>
                                        <LinearGradientBrush Opacity="0.4" StartPoint="0,1" EndPoint="1,0">
                                            <GradientStop Offset="0" Color="#1e1c29"/>
                                            <GradientStop x:Name="Grad" Offset="0.1" Color="#FF403863"/>

                                            <GradientStop Offset="0.4" Color="#1e1c29"/>
                                            <LinearGradientBrush.Transform>
                                                <RotateTransform Angle="-15"/>
                                            </LinearGradientBrush.Transform>

                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>

                            </Style>
                        </Border.Style>
                    </Border>

                    <Grid VerticalAlignment="Center">
                        <StackPanel Width="Auto" 
                                    Margin="15 0 0 0" 
                                    VerticalAlignment="Top">
                            <TextBlock Text="{Binding ElementName=Tagging, Path=SelectedItem.name, Mode=TwoWay}"  
                                       FontSize="19" 
                                       Foreground="White">
                                Hello
                            </TextBlock>
                            <TextBlock Text="{Binding ElementName=Tagging, Path=SelectedItem.dir, Mode=TwoWay}" 
                                       x:Name="ArtistText" 
                                       Margin="0 2 0 0" 
                                       Foreground="MediumPurple"
                                       FontSize="11">
                                Artist: Name
                            </TextBlock>
                        </StackPanel>
                        <StackPanel Margin="0 0 25 0" 
                                    HorizontalAlignment="Right" 
                                    Width="Auto" 
                                    Orientation="Horizontal" 
                                    VerticalAlignment="Center">
                            <Button Template="{StaticResource RegularButton}" 
                                    Margin="0 15 0 0" 
                                    Foreground="#46435b" 
                                    Click="Delete_project"
                                    Content="Delete"/>
                            <Button Template="{StaticResource RegularButton}" 
                                    Margin="25 15 0 0" 
                                    Foreground="#46435b" 
                                    Click="Button_logout" 
                                    Content="Edit"/>
                        </StackPanel>
                    </Grid>
                </Grid>
                <Label DockPanel.Dock="Top" Margin="0 15 0 0" 
                       Foreground="Gray">
                    Screenshots
                </Label>
                <Border x:Name="HeightElem"/>
                
                <ListBox VerticalAlignment="Top"
                         x:Name="commits" 
                         ItemsSource="{Binding Commits}"
                         Background="Transparent"
                         BorderThickness="0"
                         DockPanel.Dock="Top" Height="{Binding ElementName=HeightElem, Path=ActualHeight}"
                         >
                    <ListBox.Style>
                        <Style>
                            <Style.Triggers>
                                <Trigger Property="ListBox.IsMouseOver" Value="True">
                                    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
                                </Trigger>
                                <Trigger Property="ListBox.IsMouseOver" Value="False">
                                    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.Style>
                    <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>

                </ListBox.ItemsPanel>
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Margin" Value="0 0 20 0"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate>
                                    <Button 
                                                Width="250" Height="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=ListBoxItem}, Path=Height}"
                                                >
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">

                                                <Grid Width="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Button}, Path=Width}" 
                                                          Height="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Button}, Path=Height}">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="0.85*" />
                                                        <RowDefinition Height="0.15*"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid.Background>
                                                        <LinearGradientBrush StartPoint="0,0" 
                                                                                 EndPoint="0,1">
                                                            
                                                                <GradientStop Color="#1a1823"
                                                                              Offset="0.2"/>
                                                                <GradientStop Color="Transparent"
                                                                              Offset="1"/>
                                                            </LinearGradientBrush>
                                                    </Grid.Background>

                                                    <Border  x:Name="ImageClipping" 
                                                                 CornerRadius="10 10 0 0">
                                                        <Border.Background>
                                                            <LinearGradientBrush StartPoint="0.5,0" 
                                                                                     EndPoint="0.5,1">
                                                                <GradientStop Offset="1" 
                                                                                  Color="#1a1823"/>
                                                                <GradientStop Offset="1" 
                                                                                  Color="Transparent"/>
                                                            </LinearGradientBrush>
                                                        </Border.Background>
                                                    </Border>

                                                    <Grid Grid.Row="0">

                                                        <Grid.OpacityMask>
                                                            <VisualBrush Visual="{Binding ElementName=ImageClipping}"/>
                                                        </Grid.OpacityMask>
                                                        <Image 
                                                                   HorizontalAlignment="Center" 
                                                                   Stretch="UniformToFill" 
                                                                   SnapsToDevicePixels="True" 
                                                                   UseLayoutRounding="True" 
                                                                   Source="D:\Users\Vlad\Pictures\IMG_2683.jpg">
                                                        </Image>
                                                    </Grid>


                                                    <TextBlock Grid.Row="1" 
                                                                   Margin="3 2 0 5" 
                                                                   VerticalAlignment="Top"
                                                                   TextWrapping="Wrap"
                                                                   Foreground="White" 
                                                                   Text="{Binding message}"/>
                                                </Grid>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ListBox.ItemContainerStyle>
        
                </ListBox>
                
            </DockPanel>

        </Grid>
        <Grid Grid.Row="1">
            <Button Margin="35 0 0 0" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Left" 
                    Template="{StaticResource AnimatedProjectButton}"
                    Width="100" 
                    Height="30">
                <StackPanel HorizontalAlignment="Center" 
                            Orientation="Horizontal">
                    <Label>gsdsd</Label>
                </StackPanel>
            </Button>
            <Viewbox  HorizontalAlignment="Right" 
                      VerticalAlignment="Bottom"
                      Height="60"
                      Width="140">
                <StackPanel Orientation="Horizontal" 
                            Margin="0 0 18 15">
                    <StackPanel Margin="0 5 4 0">
                        <TextBlock DockPanel.Dock="Top" 
                                   x:Name="UsernameText" 
                                   Foreground="#fff" 
                                   Grid.Row="1">
                            Username
                        </TextBlock>
                        <Button Template="{StaticResource RegularButton}" 
                                WindowChrome.IsHitTestVisibleInChrome="True" 
                                Margin="0 5 0 0" 
                                DockPanel.Dock="Bottom" 
                                Foreground="Gray" 
                                Click="Button_logout" 
                                Content="Log Out"/>
                    </StackPanel>
                    <Ellipse Stroke="#1e1c29" 
                             StrokeThickness="4.5" 
                             Width="50"
                             Height="50">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="D:\Users\Vlad\Pictures\IMG_2683.jpg"/>
                        </Ellipse.Fill>
                    </Ellipse>
                </StackPanel>
            </Viewbox>
            <StackPanel Orientation="Horizontal" 
                        VerticalAlignment="Bottom" 
                        HorizontalAlignment="Center" 
                        Margin="0 0 0 8" 
                        ClipToBounds="True" 
                        SnapsToDevicePixels="True"
                        >
                <ProgressBar Minimum="0" 
                             Maximum="100" 
                             Value="60" 
                             Width="200" 
                             Height="3"
                             Margin="8">
                    <ProgressBar.Template>
                        <ControlTemplate>
                            <Grid Width="{TemplateBinding Width}" 
                                  Height="{TemplateBinding Height}">
                                <Border x:Name="PART_Track" 
                                        CornerRadius="2" 
                                        Background="AliceBlue"
                                        Opacity="0.2"/>
                                <Border x:Name="PART_Indicator" 
                                        CornerRadius="2" 
                                        HorizontalAlignment="Left">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0.5" 
                                                             EndPoint="1,0.5">
                                            <LinearGradientBrush.GradientStops>
                                                <GradientStop Color="#FFF748A7"  
                                                              Offset="0.0"/>
                                                <GradientStop  Color="#FF6CDBFF"
                                                              Offset="0.8"/>
                                            </LinearGradientBrush.GradientStops>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <!--
                                    <Border.BitmapEffect>
                                        <DropShadowBitmapEffect Color="#FF65ECF9" 
                                                                Direction="0"
                                                                ShadowDepth="0" 
                                                                FrameworkElement.FlowDirection="RightToLeft">
                                        </DropShadowBitmapEffect>
                                    </Border.BitmapEffect>
                                    -->
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </ProgressBar.Template>
                </ProgressBar>
                <TextBlock Margin="15 0 0 0" 
                           Foreground="Gray" 
                           Text="4.2/6.0GB"/>
            </StackPanel>
        </Grid>
    </Grid>

</Window>
